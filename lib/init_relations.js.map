{"version":3,"file":"init_relations.js","names":["_mobx","require","_set_relations_defaults","_interopRequireDefault","_remove_related_model","_set_related_model","initRelations","options","arguments","length","undefined","model","setRelationsDefaults","constructor","relations","forEach","relation","extendObservable","propertyName","initialValue","setMethodName","Object","assign","setRelatedModel","bind","removeMethodName","relatedModel","removeRelatedModel"],"sources":["../src/init_relations.js"],"sourcesContent":["import { extendObservable } from 'mobx';\n\nimport setRelationsDefaults from './set_relations_defaults';\nimport removeRelatedModel from './remove_related_model';\nimport setRelatedModel from './set_related_model';\n\nexport default function initRelations(options = {}) {\n  let { model } = options;\n\n  // set defaults for relations\n  setRelationsDefaults(model);\n  \n  model.constructor.relations.forEach(relation => {      \n\n    extendObservable(model, { [relation.propertyName]: relation.initialValue });\n\n    // add alias method to set relation to model's instance\n    model[relation.setMethodName] = function(options = {}) {\n      Object.assign(options, { relation, model });\n      return setRelatedModel(options);\n    }.bind(model);\n\n    // add alias method to remove relation to model's instance\n    model[relation.removeMethodName] = function(relatedModel) {\n      return removeRelatedModel({\n        model,\n        relation, \n        relatedModel\n      });\n    }.bind(model);\n\n  });\n}"],"mappings":";;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAEA,IAAAC,uBAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,qBAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,kBAAA,GAAAF,sBAAA,CAAAF,OAAA;AAEe,SAASK,aAAaA,CAAA,EAAe;EAAA,IAAdC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAChD,IAAI;IAAEG;EAAM,CAAC,GAAGJ,OAAO;;EAEvB;EACA,IAAAK,+BAAoB,EAACD,KAAK,CAAC;EAE3BA,KAAK,CAACE,WAAW,CAACC,SAAS,CAACC,OAAO,CAACC,QAAQ,IAAI;IAE9C,IAAAC,sBAAgB,EAACN,KAAK,EAAE;MAAE,CAACK,QAAQ,CAACE,YAAY,GAAGF,QAAQ,CAACG;IAAa,CAAC,CAAC;;IAE3E;IACAR,KAAK,CAACK,QAAQ,CAACI,aAAa,CAAC,GAAG,YAAuB;MAAA,IAAdb,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;MACnDa,MAAM,CAACC,MAAM,CAACf,OAAO,EAAE;QAAES,QAAQ;QAAEL;MAAM,CAAC,CAAC;MAC3C,OAAO,IAAAY,0BAAe,EAAChB,OAAO,CAAC;IACjC,CAAC,CAACiB,IAAI,CAACb,KAAK,CAAC;;IAEb;IACAA,KAAK,CAACK,QAAQ,CAACS,gBAAgB,CAAC,GAAG,UAASC,YAAY,EAAE;MACxD,OAAO,IAAAC,6BAAkB,EAAC;QACxBhB,KAAK;QACLK,QAAQ;QACRU;MACF,CAAC,CAAC;IACJ,CAAC,CAACF,IAAI,CAACb,KAAK,CAAC;EAEf,CAAC,CAAC;AACJ"}